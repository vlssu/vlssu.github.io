import{_ as i,r as c,o as r,c as d,a as e,d as a,w as n,e as o,b as s}from"./app-CHmId3RF.js";const p={},u=e("h2",{id:"安装-docker",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#安装-docker"},[e("span",null,"安装 Docker")])],-1),k={class:"custom-container tip"},m=o('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">官方的一键脚本安装法</p>',2),v=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),s(),e("span",{class:"token parameter variable"},"-sSL"),s(" https://get.docker.com/ "),e("span",{class:"token operator"},"|"),s(),e("span",{class:"token assign-left variable"},"CHANNEL"),e("span",{class:"token operator"},"="),s("stable "),e("span",{class:"token function"},"bash"),s(),e("span",{class:"token parameter variable"},"-s"),s(),e("span",{class:"token function"},"docker"),s(),e("span",{class:"token parameter variable"},"--mirror"),s(` Aliyun
systemctl `),e("span",{class:"token builtin class-name"},"enable"),s(),e("span",{class:"token parameter variable"},"--now"),s(),e("span",{class:"token function"},"docker"),s(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),h=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),s(),e("span",{class:"token parameter variable"},"-L"),s(),e("span",{class:"token string"},[s('"https://github.com/docker/compose/releases/latest/download/docker-compose-'),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"uname"),s(),e("span",{class:"token parameter variable"},"-s"),e("span",{class:"token variable"},")")]),s("-"),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"uname"),s(),e("span",{class:"token parameter variable"},"-m"),e("span",{class:"token variable"},")")]),s('"')]),s(),e("span",{class:"token parameter variable"},"-o"),s(` /usr/local/bin/docker-compose
`),e("span",{class:"token comment"},"# 若阁下在上条指令上无法正常拉取压缩包或者拉取缓慢 可使用 gh-proxy 提供的CF反向代理来拉取"),s(`
`),e("span",{class:"token function"},"curl"),s(),e("span",{class:"token parameter variable"},"-L"),s(),e("span",{class:"token string"},[s('"https://mirror.ghproxy.com/https://github.com/docker/compose/releases/latest/download/docker-compose-'),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"uname"),s(),e("span",{class:"token parameter variable"},"-s"),e("span",{class:"token variable"},")")]),s("-"),e("span",{class:"token variable"},[e("span",{class:"token variable"},"$("),e("span",{class:"token function"},"uname"),s(),e("span",{class:"token parameter variable"},"-m"),e("span",{class:"token variable"},")")]),s('"')]),s(),e("span",{class:"token parameter variable"},"-o"),s(` /usr/local/bin/docker-compose
`),e("span",{class:"token comment"},"# 将可执行权限应用于二进制文件并创建软链"),s(`
`),e("span",{class:"token function"},"chmod"),s(` +x /usr/local/bin/docker-compose
`),e("span",{class:"token function"},"ln"),s(),e("span",{class:"token parameter variable"},"-s"),s(` /usr/local/bin/docker-compose /usr/bin/docker-compose
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),b=o(`<h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker.io
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动 Docker 服务（重要）</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><h3 id="centos" tabindex="-1"><a class="header-anchor" href="#centos"><span>Centos</span></a></h3><p>Docker 要求 CentOS 系统的内核版本高于 3.10 ，通过 <code>uname -r</code> 命令查看你当前的内核版本。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>yum update <span class="token parameter variable">-y</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动 Docker 服务（重要）</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><br><h3 id="arch-linux" tabindex="-1"><a class="header-anchor" href="#arch-linux"><span>Arch Linux</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 安装 Docker</span>
pacman <span class="token parameter variable">-S</span> <span class="token function">docker</span>
<span class="token comment"># 启动 Docker</span>
systemctl start <span class="token function">docker</span>
<span class="token comment"># 开机启动 Docker</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token comment"># 关掉开机启动 Docker</span>
systemclt disable <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><br><br></p><h3 id="给予当前用户docker权限-强烈建议" tabindex="-1"><a class="header-anchor" href="#给予当前用户docker权限-强烈建议"><span>给予当前用户Docker权限 （强烈建议）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#添加docker用户组</span>
<span class="token function">sudo</span> <span class="token function">groupadd</span> <span class="token function">docker</span>
<span class="token comment">#将当前用户加入该用户组</span>
<span class="token function">sudo</span> <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">docker</span> <span class="token environment constant">$USER</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可能需要重新登陆后生效。</p><h3 id="检查-docker-环境是否正确-可选" tabindex="-1"><a class="header-anchor" href="#检查-docker-环境是否正确-可选"><span>检查 Docker 环境是否正确（可选）</span></a></h3><p>查看是否已经安装，配好PATH路径，一般而言自动配好了。MCSManager 需要 Docker 命令必须能够执行，否则无法正确使用。</p><p>输出版本号即为正确。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="检查-docker-是否能够运行-可选" tabindex="-1"><a class="header-anchor" href="#检查-docker-是否能够运行-可选"><span>检查 Docker 是否能够运行（可选）</span></a></h3><p>运行 Hello world 程序（需要联网下载）。输出内容包含有 &quot;Hello from Docker!&quot; 则代表运行成功代表无问题。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="配置国内镜像源-可选-强烈建议做" tabindex="-1"><a class="header-anchor" href="#配置国内镜像源-可选-强烈建议做"><span>配置国内镜像源（可选，强烈建议做）</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">vi</span> /etc/docker/daemon.json 

<span class="token punctuation">{</span> 
<span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://registry.docker-cn.com&quot;</span><span class="token punctuation">]</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启服务。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="开机自启docker" tabindex="-1"><a class="header-anchor" href="#开机自启docker"><span>开机自启docker</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> docker.service
<span class="token comment"># 设置开机自启</span>
systemctl disable docker.service
<span class="token comment"># 关闭开机自启</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="卸载-docker" tabindex="-1"><a class="header-anchor" href="#卸载-docker"><span>卸载 Docker</span></a></h2><ol><li>卸载docker</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 搜索已经安装的docker 安装包</span>
yum list installed<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span>  
<span class="token comment"># 删除安装包</span>
yum <span class="token parameter variable">-y</span> remove docker*
<span class="token comment"># 删除docker 镜像</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>再次check docker是否已经卸载成功</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>yum list installed<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span> 或者 <span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,35);function g(f,x){const t=c("CodeGroupItem"),l=c("CodeGroup");return r(),d("div",null,[u,e("div",k,[m,a(l,null,{default:n(()=>[a(t,{title:"Docker"},{default:n(()=>[v]),_:1}),a(t,{title:"Docker Compose"},{default:n(()=>[h]),_:1})]),_:1})]),b])}const y=i(p,[["render",g],["__file","docker.html.vue"]]),_=JSON.parse('{"path":"/blogs/share/linux/docker.html","title":"在Linux中安装Docker及Docker Compose","lang":"zh-CN","frontmatter":{"title":"在Linux中安装Docker及Docker Compose","date":"2020-03-03T00:00:00.000Z","tags":["Docker","Docker Compose"],"categories":["Linux小知识"],"description":"安装 Docker 官方的一键脚本安装法 Ubuntu 启动 Docker 服务（重要） Centos Docker 要求 CentOS 系统的内核版本高于 3.10 ，通过 uname -r 命令查看你当前的内核版本。 启动 Docker 服务（重要） Arch Linux 给予当前用户Docker权限 （强烈建议） 可能需要重新登陆后生效。 检查 ...","head":[["meta",{"property":"og:url","content":"https://vlssu.github.io/blogs/share/linux/docker.html"}],["meta",{"property":"og:site_name","content":"师叔の小窝"}],["meta",{"property":"og:title","content":"在Linux中安装Docker及Docker Compose"}],["meta",{"property":"og:description","content":"安装 Docker 官方的一键脚本安装法 Ubuntu 启动 Docker 服务（重要） Centos Docker 要求 CentOS 系统的内核版本高于 3.10 ，通过 uname -r 命令查看你当前的内核版本。 启动 Docker 服务（重要） Arch Linux 给予当前用户Docker权限 （强烈建议） 可能需要重新登陆后生效。 检查 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-21T09:52:34.000Z"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:tag","content":"Docker Compose"}],["meta",{"property":"article:published_time","content":"2020-03-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-21T09:52:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在Linux中安装Docker及Docker Compose\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-03-03T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-21T09:52:34.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"安装 Docker","slug":"安装-docker","link":"#安装-docker","children":[{"level":3,"title":"Ubuntu","slug":"ubuntu","link":"#ubuntu","children":[]},{"level":3,"title":"Centos","slug":"centos","link":"#centos","children":[]},{"level":3,"title":"Arch Linux","slug":"arch-linux","link":"#arch-linux","children":[]},{"level":3,"title":"给予当前用户Docker权限 （强烈建议）","slug":"给予当前用户docker权限-强烈建议","link":"#给予当前用户docker权限-强烈建议","children":[]},{"level":3,"title":"检查 Docker 环境是否正确（可选）","slug":"检查-docker-环境是否正确-可选","link":"#检查-docker-环境是否正确-可选","children":[]},{"level":3,"title":"检查 Docker 是否能够运行（可选）","slug":"检查-docker-是否能够运行-可选","link":"#检查-docker-是否能够运行-可选","children":[]},{"level":3,"title":"配置国内镜像源（可选，强烈建议做）","slug":"配置国内镜像源-可选-强烈建议做","link":"#配置国内镜像源-可选-强烈建议做","children":[]},{"level":3,"title":"开机自启docker","slug":"开机自启docker","link":"#开机自启docker","children":[]}]},{"level":2,"title":"卸载 Docker","slug":"卸载-docker","link":"#卸载-docker","children":[]}],"git":{"createdTime":1696266247000,"updatedTime":1700560354000,"contributors":[{"name":"飒爽师叔","email":"43847794+vlssu@users.noreply.github.com","commits":3}]},"filePathRelative":"blogs/share/linux/docker.md","autoDesc":true}');export{y as comp,_ as data};
