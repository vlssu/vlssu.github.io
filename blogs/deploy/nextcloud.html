<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="author" content="飒爽师叔"><meta name="keywords" content="vuepress,飒爽师叔,ValiantShishu,vlssu,vuepress-theme-reco,theme,blog,博客"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#42b983"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/logo.png"><link rel="mask-icon" href="/icon_vuepress_vlssu.svg" color="#42b983"><meta name="msapplication-TileImage" content="/icon_vuepress_vlssu.png"><meta name="msapplication-TileColor" content="#000000"><link rel="alternate" type="application/atom+xml" href="https://vlssu.github.io/atom.xml" title="师叔の小窝 Atom Feed"><link rel="alternate" type="application/json" href="https://vlssu.github.io/feed.json" title="师叔の小窝 JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://vlssu.github.io/rss.xml" title="师叔の小窝 RSS Feed"><title>搭建自己私人网盘-Nextcloud | 师叔の小窝</title><meta name="description" content="Share knowledge and stay happy">
    <link rel="modulepreload" href="/assets/app-5318ea07.js"><link rel="modulepreload" href="/assets/nextcloud.html-887cb675.js"><link rel="modulepreload" href="/assets/nextcloud.html-f7520bf9.js"><link rel="prefetch" href="/assets/index.html-c56eb4ae.js" as="script"><link rel="prefetch" href="/assets/index.html-ad78110e.js" as="script"><link rel="prefetch" href="/assets/index.html-a84eab7f.js" as="script"><link rel="prefetch" href="/assets/index.html-740c0fa0.js" as="script"><link rel="prefetch" href="/assets/index.html-5f3099bb.js" as="script"><link rel="prefetch" href="/assets/index.html-bc9fdd78.js" as="script"><link rel="prefetch" href="/assets/index.html-f783282c.js" as="script"><link rel="prefetch" href="/assets/index.html-8b1cb9af.js" as="script"><link rel="prefetch" href="/assets/index.html-f34df57b.js" as="script"><link rel="prefetch" href="/assets/index.html-16958ae1.js" as="script"><link rel="prefetch" href="/assets/index.html-f1d73f94.js" as="script"><link rel="prefetch" href="/assets/index.html-2239f122.js" as="script"><link rel="prefetch" href="/assets/index.html-f0b607d5.js" as="script"><link rel="prefetch" href="/assets/index.html-ac68e736.js" as="script"><link rel="prefetch" href="/assets/index.html-5c7a6cea.js" as="script"><link rel="prefetch" href="/assets/index.html-3ca53807.js" as="script"><link rel="prefetch" href="/assets/index.html-f19e1343.js" as="script"><link rel="prefetch" href="/assets/index.html-d2e67b55.js" as="script"><link rel="prefetch" href="/assets/index.html-24dd2b35.js" as="script"><link rel="prefetch" href="/assets/index.html-26379860.js" as="script"><link rel="prefetch" href="/assets/index.html-03b332ad.js" as="script"><link rel="prefetch" href="/assets/index.html-4ee1eaa5.js" as="script"><link rel="prefetch" href="/assets/index.html-9f716f5a.js" as="script"><link rel="prefetch" href="/assets/index.html-2bd81ebd.js" as="script"><link rel="prefetch" href="/assets/index.html-f1af83e0.js" as="script"><link rel="prefetch" href="/assets/index.html-9d593b9e.js" as="script"><link rel="prefetch" href="/assets/index.html-21de5d18.js" as="script"><link rel="prefetch" href="/assets/index.html-948c2228.js" as="script"><link rel="prefetch" href="/assets/index.html-fddcb3e8.js" as="script"><link rel="prefetch" href="/assets/index.html-3c742788.js" as="script"><link rel="prefetch" href="/assets/index.html-cb3ea324.js" as="script"><link rel="prefetch" href="/assets/index.html-5414e863.js" as="script"><link rel="prefetch" href="/assets/index.html-6546618f.js" as="script"><link rel="prefetch" href="/assets/index.html-b12170d0.js" as="script"><link rel="prefetch" href="/assets/index.html-2e415d81.js" as="script"><link rel="prefetch" href="/assets/index.html-5d554fb2.js" as="script"><link rel="prefetch" href="/assets/index.html-91282a03.js" as="script"><link rel="prefetch" href="/assets/index.html-dadfb088.js" as="script"><link rel="prefetch" href="/assets/index.html-3fb8d3b9.js" as="script"><link rel="prefetch" href="/assets/index.html-9d58b677.js" as="script"><link rel="prefetch" href="/assets/index.html-341a4907.js" as="script"><link rel="prefetch" href="/assets/index.html-3d6a9079.js" as="script"><link rel="prefetch" href="/assets/index.html-e12f154a.js" as="script"><link rel="prefetch" href="/assets/index.html-30de2d02.js" as="script"><link rel="prefetch" href="/assets/index.html-6a244983.js" as="script"><link rel="prefetch" href="/assets/index.html-6d51958b.js" as="script"><link rel="prefetch" href="/assets/flarum.html-8d17fb7e.js" as="script"><link rel="prefetch" href="/assets/frp.html-516b76b4.js" as="script"><link rel="prefetch" href="/assets/img_upyun_php.html-afc75dda.js" as="script"><link rel="prefetch" href="/assets/imgapi.html-0ae0f6d6.js" as="script"><link rel="prefetch" href="/assets/pterodactyl.html-aa78887f.js" as="script"><link rel="prefetch" href="/assets/pterodactyl_docker.html-065d6eec.js" as="script"><link rel="prefetch" href="/assets/yutto.html-29024c0a.js" as="script"><link rel="prefetch" href="/assets/210209.html-357c119b.js" as="script"><link rel="prefetch" href="/assets/210913.html-74fb1659.js" as="script"><link rel="prefetch" href="/assets/220301.html-140bfba6.js" as="script"><link rel="prefetch" href="/assets/220505.html-7c9c7cd7.js" as="script"><link rel="prefetch" href="/assets/220601.html-24a092b4.js" as="script"><link rel="prefetch" href="/assets/220925.html-4074f990.js" as="script"><link rel="prefetch" href="/assets/230831.html-88587aa0.js" as="script"><link rel="prefetch" href="/assets/chrome.html-23628e5c.js" as="script"><link rel="prefetch" href="/assets/docker.html-2c3af214.js" as="script"><link rel="prefetch" href="/assets/go.html-dc20c36f.js" as="script"><link rel="prefetch" href="/assets/instruction.html-d089fa40.js" as="script"><link rel="prefetch" href="/assets/java8.html-8c01aab6.js" as="script"><link rel="prefetch" href="/assets/node.html-f81a5ae8.js" as="script"><link rel="prefetch" href="/assets/python3.9.html-01d9cd75.js" as="script"><link rel="prefetch" href="/assets/selinux.html-a47a50ba.js" as="script"><link rel="prefetch" href="/assets/bds-server.html-131748a6.js" as="script"><link rel="prefetch" href="/assets/java-server.html-51f37570.js" as="script"><link rel="prefetch" href="/assets/mcsm.html-6c65b363.js" as="script"><link rel="prefetch" href="/assets/mcsm9.html-0975541b.js" as="script"><link rel="prefetch" href="/assets/netplus.html-2084a5b6.js" as="script"><link rel="prefetch" href="/assets/vuepress-blog-on-github.html-0df94074.js" as="script"><link rel="prefetch" href="/assets/markdown.html-7a02d9fc.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-18458343.js" as="script"><link rel="prefetch" href="/assets/index.html-d1c494ba.js" as="script"><link rel="prefetch" href="/assets/index.html-bd35a1f1.js" as="script"><link rel="prefetch" href="/assets/index.html-e2899066.js" as="script"><link rel="prefetch" href="/assets/index.html-1a0b1dc1.js" as="script"><link rel="prefetch" href="/assets/index.html-ce8e3396.js" as="script"><link rel="prefetch" href="/assets/index.html-68c450f0.js" as="script"><link rel="prefetch" href="/assets/index.html-1620d540.js" as="script"><link rel="prefetch" href="/assets/index.html-5e3bb0a2.js" as="script"><link rel="prefetch" href="/assets/index.html-406efa38.js" as="script"><link rel="prefetch" href="/assets/index.html-b23bbb4a.js" as="script"><link rel="prefetch" href="/assets/index.html-7cfbde70.js" as="script"><link rel="prefetch" href="/assets/index.html-0627877d.js" as="script"><link rel="prefetch" href="/assets/index.html-41359917.js" as="script"><link rel="prefetch" href="/assets/index.html-4b908fa1.js" as="script"><link rel="prefetch" href="/assets/index.html-5c5ca6a4.js" as="script"><link rel="prefetch" href="/assets/index.html-d1153516.js" as="script"><link rel="prefetch" href="/assets/index.html-7ebd19d7.js" as="script"><link rel="prefetch" href="/assets/index.html-c455dbee.js" as="script"><link rel="prefetch" href="/assets/index.html-04e53e69.js" as="script"><link rel="prefetch" href="/assets/index.html-dc61c043.js" as="script"><link rel="prefetch" href="/assets/index.html-55d9a0c8.js" as="script"><link rel="prefetch" href="/assets/index.html-0a62e6cc.js" as="script"><link rel="prefetch" href="/assets/index.html-3ff64c94.js" as="script"><link rel="prefetch" href="/assets/index.html-a0d8772d.js" as="script"><link rel="prefetch" href="/assets/index.html-94793d92.js" as="script"><link rel="prefetch" href="/assets/index.html-5011cc34.js" as="script"><link rel="prefetch" href="/assets/index.html-cb801020.js" as="script"><link rel="prefetch" href="/assets/index.html-4d8f06a5.js" as="script"><link rel="prefetch" href="/assets/index.html-51fa1992.js" as="script"><link rel="prefetch" href="/assets/index.html-d5c2e2cf.js" as="script"><link rel="prefetch" href="/assets/index.html-a6a50975.js" as="script"><link rel="prefetch" href="/assets/index.html-da7ac441.js" as="script"><link rel="prefetch" href="/assets/index.html-4e6cd1d3.js" as="script"><link rel="prefetch" href="/assets/index.html-8d2c2347.js" as="script"><link rel="prefetch" href="/assets/index.html-2794dd52.js" as="script"><link rel="prefetch" href="/assets/index.html-a8a72d27.js" as="script"><link rel="prefetch" href="/assets/index.html-d83f9f83.js" as="script"><link rel="prefetch" href="/assets/index.html-435428ab.js" as="script"><link rel="prefetch" href="/assets/index.html-730cd997.js" as="script"><link rel="prefetch" href="/assets/index.html-0769ec38.js" as="script"><link rel="prefetch" href="/assets/index.html-71bb0baa.js" as="script"><link rel="prefetch" href="/assets/index.html-c23d19bf.js" as="script"><link rel="prefetch" href="/assets/index.html-9ff86f91.js" as="script"><link rel="prefetch" href="/assets/index.html-17fe5d8e.js" as="script"><link rel="prefetch" href="/assets/index.html-f5fdf5bc.js" as="script"><link rel="prefetch" href="/assets/flarum.html-40985e40.js" as="script"><link rel="prefetch" href="/assets/frp.html-e5b18615.js" as="script"><link rel="prefetch" href="/assets/img_upyun_php.html-d2866791.js" as="script"><link rel="prefetch" href="/assets/imgapi.html-45ce5e2e.js" as="script"><link rel="prefetch" href="/assets/pterodactyl.html-25ad43dc.js" as="script"><link rel="prefetch" href="/assets/pterodactyl_docker.html-aa1af41c.js" as="script"><link rel="prefetch" href="/assets/yutto.html-7757656d.js" as="script"><link rel="prefetch" href="/assets/210209.html-ffd5fe4c.js" as="script"><link rel="prefetch" href="/assets/210913.html-dcec2019.js" as="script"><link rel="prefetch" href="/assets/220301.html-afc96001.js" as="script"><link rel="prefetch" href="/assets/220505.html-c5f83bb8.js" as="script"><link rel="prefetch" href="/assets/220601.html-46668942.js" as="script"><link rel="prefetch" href="/assets/220925.html-d3cc7aa0.js" as="script"><link rel="prefetch" href="/assets/230831.html-d678e754.js" as="script"><link rel="prefetch" href="/assets/chrome.html-f800d222.js" as="script"><link rel="prefetch" href="/assets/docker.html-43a00296.js" as="script"><link rel="prefetch" href="/assets/go.html-c9c9cfc2.js" as="script"><link rel="prefetch" href="/assets/instruction.html-e041c433.js" as="script"><link rel="prefetch" href="/assets/java8.html-cdb53b6c.js" as="script"><link rel="prefetch" href="/assets/node.html-abdb8f51.js" as="script"><link rel="prefetch" href="/assets/python3.9.html-5f9c597a.js" as="script"><link rel="prefetch" href="/assets/selinux.html-8afec343.js" as="script"><link rel="prefetch" href="/assets/bds-server.html-ed861346.js" as="script"><link rel="prefetch" href="/assets/java-server.html-dec3d021.js" as="script"><link rel="prefetch" href="/assets/mcsm.html-aef40d6c.js" as="script"><link rel="prefetch" href="/assets/mcsm9.html-2ec27de0.js" as="script"><link rel="prefetch" href="/assets/netplus.html-74bc55ee.js" as="script"><link rel="prefetch" href="/assets/vuepress-blog-on-github.html-63e6da51.js" as="script"><link rel="prefetch" href="/assets/markdown.html-97b07579.js" as="script"><link rel="prefetch" href="/assets/404.html-31065042.js" as="script"><link rel="prefetch" href="/assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/assets/giscus-2a044aea-497f0bd4.js" as="script"><link rel="prefetch" href="/assets/index-e32a7948.js" as="script">
    <link rel="preload" href="/assets/style-25fa656b.css" as="style"><link rel="stylesheet" href="/assets/style-25fa656b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="师叔の小窝"><a href="/" class="site-name can-hide">师叔の小窝</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/timeline" class="link" aria-label="时间线"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z" fill="currentColor"></path><path d="M20.59 22L15 16.41V7h2v8.58l5 5.01L20.59 22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时间线<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/friendship-link" class="link" aria-label="友情链接"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->友情链接<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://vlssu.github.io/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M8 18c-3.3 0-6 2.7-6 6s2.7 6 6 6s6-2.7 6-6s-2.7-6-6-6zm0 10c-2.2 0-4-1.8-4-4s1.8-4 4-4s4 1.8 4 4s-1.8 4-4 4z" fill="currentColor"></path><path d="M30 24h-2C28 13 19 4 8 4V2c12.1 0 22 9.9 22 22z" fill="currentColor"></path><path d="M22 24h-2c0-6.6-5.4-12-12-12v-2c7.7 0 14 6.3 14 14z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->订阅<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="链接"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M3.584 5.002l1.414-1.415l3.416 3.415L7 8.417z" fill="currentColor"></path><path d="M23.581 24.992l1.415-1.414l3.415 3.416l-1.415 1.414z" fill="currentColor"></path><path d="M11 2h2v4h-2z" fill="currentColor"></path><path d="M2 11h4v2H2z" fill="currentColor"></path><path d="M26 19h4v2h-4z" fill="currentColor"></path><path d="M19 26h2v4h-2z" fill="currentColor"></path><path d="M16.58 21.07l-3.71 3.72a4 4 0 1 1-5.66-5.66l3.72-3.72L9.51 14L5.8 17.72a6 6 0 0 0-.06 8.54A6 6 0 0 0 10 28a6.07 6.07 0 0 0 4.32-1.8L18 22.49z" fill="currentColor"></path><path d="M15.41 10.93l3.72-3.72a4 4 0 1 1 5.66 5.66l-3.72 3.72L22.49 18l3.71-3.72a6 6 0 0 0 .06-8.54A6 6 0 0 0 22 4a6.07 6.07 0 0 0-4.32 1.8L14 9.51z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->链接<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="链接"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M3.584 5.002l1.414-1.415l3.416 3.415L7 8.417z" fill="currentColor"></path><path d="M23.581 24.992l1.415-1.414l3.415 3.416l-1.415 1.414z" fill="currentColor"></path><path d="M11 2h2v4h-2z" fill="currentColor"></path><path d="M2 11h4v2H2z" fill="currentColor"></path><path d="M26 19h4v2h-4z" fill="currentColor"></path><path d="M19 26h2v4h-2z" fill="currentColor"></path><path d="M16.58 21.07l-3.71 3.72a4 4 0 1 1-5.66-5.66l3.72-3.72L9.51 14L5.8 17.72a6 6 0 0 0-.06 8.54A6 6 0 0 0 10 28a6.07 6.07 0 0 0 4.32-1.8L18 22.49z" fill="currentColor"></path><path d="M15.41 10.93l3.72-3.72a4 4 0 1 1 5.66 5.66l-3.72 3.72L22.49 18l3.71-3.72a6 6 0 0 0 .06-8.54A6 6 0 0 0 22 4a6.07 6.07 0 0 0-4.32 1.8L14 9.51z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->链接<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://vlssu.cn" target="_blank" rel="noopener noreferrer" aria-label="公益我的世界服务器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->公益我的世界服务器<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://skin.vlssu.com/" target="_blank" rel="noopener noreferrer" aria-label="皮肤站"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->皮肤站<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/timeline" class="link" aria-label="时间线"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z" fill="currentColor"></path><path d="M20.59 22L15 16.41V7h2v8.58l5 5.01L20.59 22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时间线<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/friendship-link" class="link" aria-label="友情链接"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->友情链接<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://vlssu.github.io/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M8 18c-3.3 0-6 2.7-6 6s2.7 6 6 6s6-2.7 6-6s-2.7-6-6-6zm0 10c-2.2 0-4-1.8-4-4s1.8-4 4-4s4 1.8 4 4s-1.8 4-4 4z" fill="currentColor"></path><path d="M30 24h-2C28 13 19 4 8 4V2c12.1 0 22 9.9 22 22z" fill="currentColor"></path><path d="M22 24h-2c0-6.6-5.4-12-12-12v-2c7.7 0 14 6.3 14 14z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->订阅<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="链接"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M3.584 5.002l1.414-1.415l3.416 3.415L7 8.417z" fill="currentColor"></path><path d="M23.581 24.992l1.415-1.414l3.415 3.416l-1.415 1.414z" fill="currentColor"></path><path d="M11 2h2v4h-2z" fill="currentColor"></path><path d="M2 11h4v2H2z" fill="currentColor"></path><path d="M26 19h4v2h-4z" fill="currentColor"></path><path d="M19 26h2v4h-2z" fill="currentColor"></path><path d="M16.58 21.07l-3.71 3.72a4 4 0 1 1-5.66-5.66l3.72-3.72L9.51 14L5.8 17.72a6 6 0 0 0-.06 8.54A6 6 0 0 0 10 28a6.07 6.07 0 0 0 4.32-1.8L18 22.49z" fill="currentColor"></path><path d="M15.41 10.93l3.72-3.72a4 4 0 1 1 5.66 5.66l-3.72 3.72L22.49 18l3.71-3.72a6 6 0 0 0 .06-8.54A6 6 0 0 0 22 4a6.07 6.07 0 0 0-4.32 1.8L14 9.51z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->链接<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="链接"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M3.584 5.002l1.414-1.415l3.416 3.415L7 8.417z" fill="currentColor"></path><path d="M23.581 24.992l1.415-1.414l3.415 3.416l-1.415 1.414z" fill="currentColor"></path><path d="M11 2h2v4h-2z" fill="currentColor"></path><path d="M2 11h4v2H2z" fill="currentColor"></path><path d="M26 19h4v2h-4z" fill="currentColor"></path><path d="M19 26h2v4h-2z" fill="currentColor"></path><path d="M16.58 21.07l-3.71 3.72a4 4 0 1 1-5.66-5.66l3.72-3.72L9.51 14L5.8 17.72a6 6 0 0 0-.06 8.54A6 6 0 0 0 10 28a6.07 6.07 0 0 0 4.32-1.8L18 22.49z" fill="currentColor"></path><path d="M15.41 10.93l3.72-3.72a4 4 0 1 1 5.66 5.66l-3.72 3.72L22.49 18l3.71-3.72a6 6 0 0 0 .06-8.54A6 6 0 0 0 22 4a6.07 6.07 0 0 0-4.32 1.8L14 9.51z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->链接<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://vlssu.cn" target="_blank" rel="noopener noreferrer" aria-label="公益我的世界服务器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->公益我的世界服务器<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://skin.vlssu.com/" target="_blank" rel="noopener noreferrer" aria-label="皮肤站"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->皮肤站<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/logo.png" alt="师叔の小窝"><a href="/" class="site-name can-hide">师叔の小窝</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">搭建自己私人网盘-Nextcloud</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->飒爽师叔<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2020-02-27<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->教程<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->宝塔 nextcloud<!--]--></span></span><!----></div><div class="theme-reco-default-content"><div><h2 id="前期需要软件" tabindex="-1"><a class="header-anchor" href="#前期需要软件" aria-hidden="true">#</a> 前期需要软件</h2><ol><li>远程SSH控制台软件（本教程使用 Remote Terminal 此为win10商店软件）<a href="https://www.lanzoui.com/i88wyvi" target="_blank" rel="noopener noreferrer">[点我下载(此软件为Xshell)]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>支持Sftp的FTP软件（本教程使用 FileZilla）<a href="https://www.lanzoui.com/i88wyqd" target="_blank" rel="noopener noreferrer">[点我下载]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Centos或Ubuntu主机一台 （教程使用 centos7.7）</li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h2><ol><li>推荐Ubuntu系统（由于个人偏向，本教程使用Centos）</li><li>未标注哪个系统指令则两者都可适用</li><li>若标题注释了哪个系统那只能适用那个系统或另一个系统不需要输此指令</li></ol><h2 id="环境部署" tabindex="-1"><a class="header-anchor" href="#环境部署" aria-hidden="true">#</a> 环境部署</h2><h3 id="系统更新" tabindex="-1"><a class="header-anchor" href="#系统更新" aria-hidden="true">#</a> 系统更新</h3><ul><li>首先你要确保你的系统是最新的</li></ul><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Centos<!--]--></span></span></button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ubuntu<!--]--></span></span></button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum update <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">apt-get</span> update <span class="token parameter variable">-y</span>
<span class="token function">apt-get</span> upgrade <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="宝塔安装" tabindex="-1"><a class="header-anchor" href="#宝塔安装" aria-hidden="true">#</a> 宝塔安装</h3><ol><li>使用指令安装</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Centos<!--]--></span></span></button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ubuntu/Deepin<!--]--></span></span></button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">wget</span> <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> <span class="token parameter variable">-O</span> install.sh http://download.bt.cn/install/install_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> install.sh ed8484bec
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-O</span> install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">bash</span> install.sh ed8484bec
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="2"><li>安装所需环境</li></ol><ul><li>首次进入会让你安装基础程序【这里选<strong>LAMP</strong>个人喜欢这个，并且不需要自己添加伪静态】 <ul><li>这里选择版本为：</li><li>Apache 2.4</li><li>MySQL 5.7</li><li>Pure-Ftpd 1.0.49</li><li>PHP 7.3(并安装扩展名: fileinfo)</li><li>phpMyAdmin 4.7</li></ul></li><li>这里最好选<strong>编译安装</strong>，极速安装虽说快，但他不稳定，很不推荐.</li><li>下载速度日常很慢（根据服务器性能，我这里就是晚上弄然后睡觉去了）</li></ul><p><img src="/assets/nextcloud_1-81470c03.png" alt="安装LAMP环境包"><img src="/assets/nextcloud_2-3d1c817f.png" alt="安装PHP扩展名: fileinfo"><img src="/assets/nextcloud_3-dbaaa020.png" alt="整个所需环境表"></p><ol start="3"><li>删除PHP中的禁用函数(现在的PHP和以前相比已经不需要禁用函数了，反而导致程序错误)</li></ol><ul><li>按下键盘<strong>Ctrl+F</strong>开启搜索功能搜索<code>disable_functions</code>，并删除后面的禁用函数，随后重启PHP。</li></ul><p><img src="/assets/nextcloud_4-49ba0a50.png" alt="image.png"></p><ol start="4"><li>新建网站+数据库，并将数据库账户密码记录，在下文会使用到</li></ol><p><img src="/assets/nextcloud_5-bb3c21cf.png" alt="创建网站"></p><ol start="5"><li>在SSH部署时需手动<code>cd</code>到网站目录并保证<strong>目录为空</strong>。(都面板化了，手动删除4个文件应该不费事吧)</li></ol><h2 id="安装nextcloud" tabindex="-1"><a class="header-anchor" href="#安装nextcloud" aria-hidden="true">#</a> 安装Nextcloud</h2><ol><li>克隆Nextcloud文件到本地</li></ol><ul><li>对于网盘系统有seafile、可道云，国外NextCloud，在自我衡量之后发现NextCloud更适合做网盘系统</li><li><a href="https://nextcloud.com/install/#instructions-server" target="_blank" rel="noopener noreferrer">[前往Nextcloud下载页]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>下载<strong>NextCloud</strong>安装包，并上传至服务器或<code>cd</code>到你要部署的文件夹自行下方命令</li><li><strong>注意！</strong> 链接非统一性，在官方随时更新版本链接随时变更，链接最好前往官方获取链接</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-c</span> https://download.nextcloud.com/server/releases/nextcloud-22.1.1.zip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/nextcloud_6-0c7cc15d.png" alt="下载nextcloud"></p><ol start="2"><li>解压压缩包<code>nextcloud-22.1.1.zip</code></li></ol><p><img src="/assets/nextcloud_7-6deeae61.png" alt="解压压缩包nextcloud-22.1.1.zip"></p><ol start="3"><li>移动<code>nextcloud</code>内安装文件，迁移至网站目录</li></ol><p><img src="/assets/nextcloud_8-b8baab45.png" alt="image.png"></p><ol start="4"><li>删除无用文件的<code>nextcloud``nextcloud-18.0.1.zip</code>，不删除容易出错</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> nextcloud
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> nextcloud-18.0.1.zip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>变更权限组合权限，权限选择「755」+用户组选择「www」，最后确定即可</li></ol><p><img src="/assets/nextcloud_9-074bad17.png" alt="权限755+www"></p><ol start="6"><li>直接打开自己绑定的域名，将上面用记下来的数据库用户名和密码写入相应的位置</li></ol><p><img src="/assets/nextcloud_10-a2d32392.png" alt="填写数据库与用户名"></p><ol start="7"><li>点击安装后就安装好啦</li></ol><h2 id="维护模式指令" tabindex="-1"><a class="header-anchor" href="#维护模式指令" aria-hidden="true">#</a> 维护模式指令</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> www php occ maintenance:mode <span class="token parameter variable">--on</span>
<span class="token function">sudo</span> <span class="token parameter variable">-u</span> www php occ maintenance:mode <span class="token parameter variable">--off</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解决后续问题" tabindex="-1"><a class="header-anchor" href="#解决后续问题" aria-hidden="true">#</a> 解决后续问题</h2><ul><li>在「设置」中「管理栏」的选项中有「安全与设置警告」，实际上没多大事，如果有强迫症，下方可以解决</li></ul><p><img src="/assets/nextcloud_11-cb7685ca.png" alt="错误"></p><h3 id="php-内存限制低于建议值-512mb" tabindex="-1"><a class="header-anchor" href="#php-内存限制低于建议值-512mb" aria-hidden="true">#</a> PHP 内存限制低于建议值 512MB</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔php点击<strong>配置修改</strong>，编辑<code>脚本内存限制</code>,给<strong>512M</strong>即可</p></div><h3 id="php-的-opcache-模块未载入。推荐开启获得更好的性能。" tabindex="-1"><a class="header-anchor" href="#php-的-opcache-模块未载入。推荐开启获得更好的性能。" aria-hidden="true">#</a> PHP 的 OPcache 模块未载入。推荐开启获得更好的性能。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>按照提示在php配置文件中搜索Zend ZendGuard Loader，添加：</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">zend_extension</span><span class="token punctuation">=</span><span class="token value attr-value">opcache.so</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="php-的组件-opcache-没有正确配置。-为了提供更好的性能-我们建议在-php-ini中使用下列设置" tabindex="-1"><a class="header-anchor" href="#php-的组件-opcache-没有正确配置。-为了提供更好的性能-我们建议在-php-ini中使用下列设置" aria-hidden="true">#</a> PHP 的组件 OPcache 没有正确配置。 为了提供更好的性能，我们建议在 php.ini中使用下列设置：</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔php点击安装<code>opcache</code>。</p><p><img src="data:image/png;base64,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" alt="安装opcache"></p></div><h3 id="该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。imagick" tabindex="-1"><a class="header-anchor" href="#该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。imagick" aria-hidden="true">#</a> 该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。<code>imagick</code></h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔php点击安装<code>imagemagick</code>。</p><p><img src="data:image/png;base64,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" alt="安装imagemagick"></p></div><h3 id="内存缓存未配置-为了提升使用体验-请尽量配置内存缓存。" tabindex="-1"><a class="header-anchor" href="#内存缓存未配置-为了提升使用体验-请尽量配置内存缓存。" aria-hidden="true">#</a> 内存缓存未配置，为了提升使用体验，请尽量配置内存缓存。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔php点击安装<code>apcu</code> ，编辑<code>/config</code>下的<code>config.php</code>在<code>);</code>前加入以下代码： <img src="data:image/png;base64,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" alt="安装apcu"></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>  <span class="token string single-quoted-string">&#39;memcache.local&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;\OC\Memcache\APCu&#39;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="nextcloud不能执行命令更新-报错如下-oc-hintexception-0-memcache-oc-memcache-apcu-not-available-for-local-cache" tabindex="-1"><a class="header-anchor" href="#nextcloud不能执行命令更新-报错如下-oc-hintexception-0-memcache-oc-memcache-apcu-not-available-for-local-cache" aria-hidden="true">#</a> Nextcloud不能执行命令更新，报错如下：OC\HintException: [0]: Memcache \OC\Memcache\APCu not available for local cache</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔软件商店 &gt; PHP7.X &gt; 配置文件 &gt; 末尾的地方追加入以下代码：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>apc<span class="token operator">.</span>enable_cli<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后重启电脑</p></div><h3 id="您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码-请添加带区域相应的-iso-3166-1-code-↗-的-默认-电话-区域-到你的配置文件中。" tabindex="-1"><a class="header-anchor" href="#您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码-请添加带区域相应的-iso-3166-1-code-↗-的-默认-电话-区域-到你的配置文件中。" aria-hidden="true">#</a> 您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码，请添加带区域相应的 ISO 3166-1 code ↗ 的“默认_电话_区域”到你的配置文件中。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>编辑<code>/config</code>下的<code>config.php</code>在<code>);</code>前加入以下代码：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>  <span class="token string single-quoted-string">&#39;default_phone_region&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;CN&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。gmp" tabindex="-1"><a class="header-anchor" href="#该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。gmp" aria-hidden="true">#</a> 该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。gmp</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>宝塔php点击安装<code>gmp</code></p><p><img src="data:image/png;base64,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" alt="安装gmp"></p></div><h3 id="数据库中的一些列由于进行长整型转换而缺失。" tabindex="-1"><a class="header-anchor" href="#数据库中的一些列由于进行长整型转换而缺失。" aria-hidden="true">#</a> 数据库中的一些列由于进行长整型转换而缺失。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>cd到nextcloud目录，执行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> www php occ db:convert-filecache-bigint
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="数据库丢失了一些索引。" tabindex="-1"><a class="header-anchor" href="#数据库丢失了一些索引。" aria-hidden="true">#</a> 数据库丢失了一些索引。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>cd到nextcloud目录，执行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> www php occ db:add-missing-indices
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="美化url-去除入口文件index-php" tabindex="-1"><a class="header-anchor" href="#美化url-去除入口文件index-php" aria-hidden="true">#</a> 美化URL，去除入口文件index.php</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>使用config.php+OCC命令生成<code>.htaccess</code>。编辑<code>/config/config.php</code>添加规则：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token string single-quoted-string">&#39;htaccess.RewriteBase&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;/&#39;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后使用occ命令生成.htaccess文件：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> www php occ maintenance:update:htaccess
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="通过-http-访问网站不安全。强烈建议您将服务器设置成要求使用https-协议" tabindex="-1"><a class="header-anchor" href="#通过-http-访问网站不安全。强烈建议您将服务器设置成要求使用https-协议" aria-hidden="true">#</a> 通过 HTTP 访问网站不安全。强烈建议您将服务器设置成要求使用HTTPS 协议</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>去证书网站申请证书即可。</p></div><h3 id="http的请求头-strict-transport-security-未设置为至少-15552000-秒。为了提高安全性-建议参照security-tips-中的说明启用hsts。" tabindex="-1"><a class="header-anchor" href="#http的请求头-strict-transport-security-未设置为至少-15552000-秒。为了提高安全性-建议参照security-tips-中的说明启用hsts。" aria-hidden="true">#</a> HTTP的请求头 &quot;Strict-Transport-Security&quot; 未设置为至少 &quot;15552000&quot; 秒。为了提高安全性，建议参照security tips 中的说明启用HSTS。</h3><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>在站点配置文件里面添加如下代码，然后重启Apache即可。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Header always set Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h2 id="安装后无法挂载外部共享目录" tabindex="-1"><a class="header-anchor" href="#安装后无法挂载外部共享目录" aria-hidden="true">#</a> 安装后无法挂载外部共享目录</h2><ol><li>安装PHP smbclient模块</li><li>在php.ini里面启用smb模块</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vim /usr/local/php/etc/php.ini
//文件最后添加如下内容：
[smb]
extension=/usr/local/php/lib/php/extensions/no-debug-non-zts-20160303/smbclient.so
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化" aria-hidden="true">#</a> 性能优化</h2><h3 id="定时任务配置为-cron" tabindex="-1"><a class="header-anchor" href="#定时任务配置为-cron" aria-hidden="true">#</a> 定时任务配置为 &#39;Cron&#39;</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token parameter variable">-u</span> www <span class="token function">crontab</span> <span class="token parameter variable">-e</span>
<span class="token comment"># 添加</span>
*/5 * * * * php <span class="token parameter variable">-f</span> /站点的绝对路径/cron.php
<span class="token comment"># 这是我添加的，你们可以进行参考</span>
*/5 * * * * php <span class="token parameter variable">-f</span> /www/wwwroot/cloud.vlssu.com/cron.php
lnmp restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M10 10l4 4m0-4l-4 4"></path></g></svg><p class="custom-container-title">无法正常运行</p><ul><li>如果你是宝塔，那么大概率会出现这个问题，修复也很简单，原因是你根本登录不了<code>www</code>用户</li><li>当你输入<code>cat /etc/passwd | grep www</code>你会发现是<code>/sbin /nologin</code></li><li>你知道替换为<code>/bin/bash</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 进入该文件中
vi /etc/passwd
# 找到www那条，进行修改，将/sbin /nologin替换为/bin/bash
www:x:1001:1001::/home/www:/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->最后更新时间 10/3/2023, 1:04:07 AM<!--]--></span></span></div></footer><!----><div class="reco-giscus-wrapper"><!----></div></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#前期需要软件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="前期需要软件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前期需要软件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#注意事项" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="注意事项"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->注意事项<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#环境部署" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="环境部署"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->环境部署<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#系统更新" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="系统更新"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->系统更新<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#宝塔安装" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="宝塔安装"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->宝塔安装<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#安装nextcloud" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="安装Nextcloud"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安装Nextcloud<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#维护模式指令" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="维护模式指令"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->维护模式指令<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#解决后续问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="解决后续问题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->解决后续问题<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#php-内存限制低于建议值-512mb" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="PHP 内存限制低于建议值 512MB"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->PHP 内存限制低于建议值 512MB<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#php-的-opcache-模块未载入。推荐开启获得更好的性能。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="PHP 的 OPcache 模块未载入。推荐开启获得更好的性能。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->PHP 的 OPcache 模块未载入。推荐开启获得更好的性能。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#php-的组件-opcache-没有正确配置。-为了提供更好的性能-我们建议在-php-ini中使用下列设置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="PHP 的组件 OPcache 没有正确配置。 为了提供更好的性能，我们建议在 php.ini中使用下列设置："><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->PHP 的组件 OPcache 没有正确配置。 为了提供更好的性能，我们建议在 php.ini中使用下列设置：<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。imagick" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。imagick"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。imagick<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#内存缓存未配置-为了提升使用体验-请尽量配置内存缓存。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="内存缓存未配置，为了提升使用体验，请尽量配置内存缓存。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->内存缓存未配置，为了提升使用体验，请尽量配置内存缓存。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#nextcloud不能执行命令更新-报错如下-oc-hintexception-0-memcache-oc-memcache-apcu-not-available-for-local-cache" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Nextcloud不能执行命令更新，报错如下：OC\HintException: [0]: Memcache \OC\Memcache\APCu not available for local cache"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Nextcloud不能执行命令更新，报错如下：OC\HintException: [0]: Memcache \OC\Memcache\APCu not available for local cache<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码-请添加带区域相应的-iso-3166-1-code-↗-的-默认-电话-区域-到你的配置文件中。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码，请添加带区域相应的 ISO 3166-1 code ↗ 的“默认_电话_区域”到你的配置文件中。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->您的安装没有设置默认的电话区域。这对验证配置设定中没有国家代码的电话号码而言是必需的。要允许没有国家代码的电话号码，请添加带区域相应的 ISO 3166-1 code ↗ 的“默认_电话_区域”到你的配置文件中。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#该实例缺失了一些推荐的-php-模块。为提高性能和兼容性-我们强烈建议安装它们。gmp" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。gmp"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->该实例缺失了一些推荐的 PHP 模块。为提高性能和兼容性，我们强烈建议安装它们。gmp<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#数据库中的一些列由于进行长整型转换而缺失。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="数据库中的一些列由于进行长整型转换而缺失。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数据库中的一些列由于进行长整型转换而缺失。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#数据库丢失了一些索引。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="数据库丢失了一些索引。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数据库丢失了一些索引。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#美化url-去除入口文件index-php" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="美化URL，去除入口文件index.php"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->美化URL，去除入口文件index.php<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#通过-http-访问网站不安全。强烈建议您将服务器设置成要求使用https-协议" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="通过 HTTP 访问网站不安全。强烈建议您将服务器设置成要求使用HTTPS 协议"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->通过 HTTP 访问网站不安全。强烈建议您将服务器设置成要求使用HTTPS 协议<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#http的请求头-strict-transport-security-未设置为至少-15552000-秒。为了提高安全性-建议参照security-tips-中的说明启用hsts。" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="HTTP的请求头 &quot;Strict-Transport-Security&quot; 未设置为至少 &quot;15552000&quot; 秒。为了提高安全性，建议参照security tips 中的说明启用HSTS。"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTTP的请求头 &quot;Strict-Transport-Security&quot; 未设置为至少 &quot;15552000&quot; 秒。为了提高安全性，建议参照security tips 中的说明启用HSTS。<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#安装后无法挂载外部共享目录" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="安装后无法挂载外部共享目录"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安装后无法挂载外部共享目录<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/deploy/nextcloud.html#性能优化" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="性能优化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->性能优化<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/deploy/nextcloud.html#定时任务配置为-cron" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="定时任务配置为 &#39;Cron&#39;"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->定时任务配置为 &#39;Cron&#39;<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div><!----><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-5318ea07.js" defer></script>
  </body>
</html>
